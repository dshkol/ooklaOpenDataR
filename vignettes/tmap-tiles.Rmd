---
title: "Plot tiles with `tmap`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{tmap-tiles}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Setting up fixed performance data

One of the fun things about this dataset is being able to make maps with it. `tmap` is one of the many good R packages for designing maps-- the ideas presented here would work with any of them depending on what the end use is. 

```{r setup}
library(ooklaOpenDataR)
library(tmap)
library(sf)
library(magrittr)
```

I'll make a map of fixed broadband in Minneapolis using data from the city open data portal. 

```{r}
minneapolis <- read_sf("https://opendata.arcgis.com/datasets/89f1a70c0cf24d7692e2d02fdf8f4e47_0.geojson") %>%
  st_transform(4326) # transform to lat/lon
```

Then I'll download the fixed performance tiles for Q2 2020 and filter it with the Minneapolis boundary.

```{r}
mpls_fixed_tiles <- get_performance_tiles(service = "fixed", year = 2020, quarter = 2, sf = TRUE) %>%
  filter_by_quadkey
```

